(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(21)},21:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),s=n(10),i=n.n(s),o=(n(9),n(2)),c=n(3),r=n(6),h=n(4),p=n(5),u=(n(7),n(1)),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(h.a)(t).call(this,e))).handleLevel=n.handleLevel.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleLevel",value:function(e){this.props.onChange(parseInt(e.target.value))}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.hide,style:{marginLeft:"auto",marginRight:"auto",marginBottom:10}},a.a.createElement("div",{style:{fontSize:16,fontWeight:"bold"}},"Cleric level:"),a.a.createElement("input",{style:{textAlign:"center",marginLeft:"auto",marginRight:"auto",width:75},id:"clericLevel",type:"number",min:"1",max:"4",defaultValue:this.props.level,onInput:this.handleLevel}))}}]),t}(l.Component),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(h.a)(t).call(this,e))).handleMod=n.handleMod.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleMod",value:function(e){this.props.onChange(parseInt(e.target.value))}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.hide,style:{marginLeft:"auto",marginRight:"auto"}},a.a.createElement("div",{style:{fontSize:16,fontWeight:"bold"}},"Wisdom modifier:"),a.a.createElement("input",{style:{textAlign:"center",marginLeft:"auto",marginRight:"auto",width:75},id:"wisMod",type:"number",min:"-3",max:"5",defaultValue:this.props.wisMod,onInput:this.handleMod}))}}]),t}(l.Component),v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.handleClick()}},{key:"render",value:function(){return a.a.createElement("button",{className:this.props.hide,onClick:this.handleClick},"Prepare now")}}]),t}(l.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.hide,style:{textAlign:"center"}},a.a.createElement("div",{className:"my-custom-select"},a.a.createElement("b",null,"Level One"),this.props.levelOne.map(function(t,n){return e.props.selectMaker(t,n,"choice")}),this.props.level>2&&a.a.createElement("div",null,a.a.createElement("b",null,"Level Two"),this.props.levelTwo.map(function(t,n){return e.props.selectMaker(t,n,"choice")}))))}}]),t}(l.Component),g=(n(19),function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.hide},a.a.createElement("b",null,a.a.createElement("span",{className:"choose"},"Chosen (click to remove):")),a.a.createElement("br",null),a.a.createElement("div",{className:"my-custom-select"},a.a.createElement("b",null,"Level One"),this.props.chosenOne.map(function(t,n){return e.props.selectMaker(t,n,"chosen")}),this.props.level>2&&a.a.createElement("div",null,a.a.createElement("b",null,"Level Two"),this.props.chosenTwo.map(function(t,n){return e.props.selectMaker(t,n,"chosen")}))))}}]),t}(l.Component)),S=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="center "+this.props.hide;return a.a.createElement("div",{className:e,style:{marginBottom:15}},a.a.createElement("button",{onClick:this.props.handleClick},"Begin Adventuring"))}}]),t}(l.Component),f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("level");this.props.reduceNumber(t)}},{key:"render",value:function(){var e="center no-select "+this.props.hide;return a.a.createElement("div",{className:e},a.a.createElement("span",null,"Click a spell slot to expend it"),a.a.createElement("div",{className:"row spell-slot-container"},a.a.createElement("div",{className:"col-sm spell-slot",onTouchStart:"",onClick:this.handleClick,level:"1"},a.a.createElement("p",{style:{fontSize:14,weight:"bold",marginBottom:-3}},"1",a.a.createElement("sup",null,"st")," Level"),a.a.createElement("p",{style:{fontSize:9,weight:"bold",marginBottom:0}},"Spell Slot"),a.a.createElement("p",{style:{fontSize:35,weight:"bold",lineHeight:"1em",marginBottom:0}},this.props.levelOne),a.a.createElement("p",{style:{fontSize:10,weight:"bold",marginBottom:".5em"}},"remaining")),a.a.createElement("div",{className:"col-sm spell-slot",ontouchstart:"",onClick:this.handleClick,level:"2"},a.a.createElement("p",{style:{fontSize:14,weight:"bold",marginBottom:-3}},"2",a.a.createElement("sup",null,"nd")," Level"),a.a.createElement("p",{style:{fontSize:9,weight:"bold",marginBottom:0}},"Spell Slot"),a.a.createElement("p",{style:{fontSize:35,weight:"bold",lineHeight:"1em",marginBottom:0}},this.props.levelTwo),a.a.createElement("p",{style:{fontSize:10,weight:"bold",marginBottom:".5em"}},"remaining"))))}}]),t}(l.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t="prep-label "+this.props.hide;return a.a.createElement("div",{className:t},"Prepared Spells (click for description):",a.a.createElement("br",null),a.a.createElement("div",{className:"my-custom-select"},a.a.createElement("b",null,"Level One"),this.props.levelOneSpells.map(function(t,n){return e.props.selectMaker(t,n,"prep")}),this.props.level>2&&a.a.createElement("div",null,a.a.createElement("b",null,"Level Two"),this.props.levelTwoSpells.map(function(t,n){return e.props.selectMaker(t,n,"prep")}))))}}]),t}(l.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="choose "+this.props.hide;return a.a.createElement("div",{className:e},"Choose ",a.a.createElement("span",{className:"blue"},this.props.spellNumber)," more (click to add):")}}]),t}(l.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getDesc(this.props.levelOneSpells[0])}},{key:"componentDidUpdate",value:function(){document.getElementById("spell-info-box").scrollTop=0}},{key:"render",value:function(){return a.a.createElement("div",{id:"spell-info-box",className:this.props.hide,style:{marginTop:20,maxWidth:300,height:130,border:"1px solid lightgray",padding:2,overflowY:"scroll",textAlign:"left"}},a.a.createElement("b",{style:{fontSize:26,letterSpacing:1,lineHeight:"1em"}},this.props.spell.name),a.a.createElement("br",null),a.a.createElement("i",null,"Level ",this.props.spell.level," ",this.props.spell.school),a.a.createElement("br",null),a.a.createElement("b",null,"Casting Time:")," ",this.props.spell.casting_time,a.a.createElement("br",null),a.a.createElement("b",null,"Range:")," ",this.props.spell.range,a.a.createElement("br",null),a.a.createElement("b",null,"Components:")," ",this.props.spell.components,a.a.createElement("br",null),a.a.createElement("b",null,"Duration:"),"  ","yes"===this.props.spell.concentration?"Concentration, ":null,"yes"===this.props.spell.concentration?this.props.spell.duration.toLowerCase():this.props.spell.duration,a.a.createElement("br",null),a.a.createElement("br",null),this.props.spell.desc,a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("b",null,"Higher level:")," ",this.props.spell.high_level?this.props.spell.high_level[0]:"None",a.a.createElement("br",null),a.a.createElement("br",null))}}]),t}(l.Component),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(h.a)(t).call(this,e))).state={cantrips:["Guidance","Light","Mending","Resistance","Sacred Flame","Spare the Dying","Thaumaturgy"],firstLevel:["Bane","Command","Create or Destroy Water","Detect Evil and Good","Detect Magic","Detect Poison and Disease","Guiding Bolt","Healing Word","Inflict Wounds","Protection from Evil and Good","Purify Food and Drink","Sanctuary","Shield of Faith"],secondLevel:["Aid","Augury","Blindness/Deafness","Calm Emotions","Continual Flame","Enhance Ability","Find Traps","Gentle Repose","Hold Person","Lesser Restoration","Locate Object","Prayer of Healing","Protection from Poison","Silence","Spiritual Weapon","Warding Bond","Zone of Truth"],firstLevelChoice:["Bane","Command","Create or Destroy Water","Detect Evil and Good","Detect Magic","Detect Poison and Disease","Guiding Bolt","Healing Word","Inflict Wounds","Protection from Evil and Good","Purify Food and Drink","Sanctuary","Shield of Faith"],secondLevelChoice:["Aid","Augury","Blindness/Deafness","Calm Emotions","Continual Flame","Enhance Ability","Find Traps","Gentle Repose","Hold Person","Locate Object","Prayer of Healing","Protection from Poison","Silence","Warding Bond","Zone of Truth"],bonus:["Healing Word","Sanctuary","Shield of Faith","Spiritual Weapon"],conc:["Bane","Bless","Detect Evil and Good","Detect Magic","Detect Poison and Disease","Protection from Evil and Good","Shield of Faith","Calm Emotions","Enhance Ability","Hold Person","Locate Object","Silence"],domain:["Bless","Cure Wounds","Lesser Restoration","Spiritual Weapon"],clericLevel:3,cantripsKnown:3,levelOneSlots:4,levelTwoAvail:!0,levelTwoSlots:2,wisdomMod:3,spellNumber:6,spellChoiceNumber:6,startScreenHide:"",chooseScreenHide:"hidden",castingScreenHide:"hidden",domainSpellsFirst:["Bless","Cure Wounds"],domainSpellsSecond:["Lesser Restoration","Spiritual Weapon"],choseFirst:["Bless","Cure Wounds"],choseSecond:["Lesser Restoration","Spiritual Weapon"],activeSpell:{}},n.changeClericLevel=n.changeClericLevel.bind(Object(u.a)(Object(u.a)(n))),n.changeSpellSlots=n.changeSpellSlots.bind(Object(u.a)(Object(u.a)(n))),n.changeWisMod=n.changeWisMod.bind(Object(u.a)(Object(u.a)(n))),n.changeSpellNumber=n.changeSpellNumber.bind(Object(u.a)(Object(u.a)(n))),n.hideForChoosing=n.hideForChoosing.bind(Object(u.a)(Object(u.a)(n))),n.updateSpellChoiceNumber=n.updateSpellChoiceNumber.bind(Object(u.a)(Object(u.a)(n))),n.convertToBaseName=n.convertToBaseName.bind(Object(u.a)(Object(u.a)(n))),n.removeChosen=n.removeChosen.bind(Object(u.a)(Object(u.a)(n))),n.startCasting=n.startCasting.bind(Object(u.a)(Object(u.a)(n))),n.spellWasCast=n.spellWasCast.bind(Object(u.a)(Object(u.a)(n))),n.selectMaker=n.selectMaker.bind(Object(u.a)(Object(u.a)(n))),n.handleClick=n.handleClick.bind(Object(u.a)(Object(u.a)(n))),n.getSpellUrl=n.getSpellUrl.bind(Object(u.a)(Object(u.a)(n))),n.getSpellData=n.getSpellData.bind(Object(u.a)(Object(u.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"changeClericLevel",value:function(e){this.setState({clericLevel:e}),this.changeSpellSlots(e),this.changeSpellNumber(this.state.wisdomMod,e)}},{key:"changeSpellSlots",value:function(e){var t,n=e+1>4?4:e+1,l=[];e<3?(l[0]=0,l[1]=!1):3==e?(l[0]=2,l[1]=!0):e>3&&(l[0]=3,l[1]=!0),t=e<4?3:e<10?4:5,this.setState({levelOneSlots:n,levelTwoSlots:l[0],levelTwoAvail:l[1],cantripsKnown:t})}},{key:"changeWisMod",value:function(e){this.setState({wisdomMod:e}),this.changeSpellNumber(e,this.state.clericLevel)}},{key:"changeSpellNumber",value:function(e,t){var n;n=e+t<1?1:t+e,this.setState({spellNumber:n,spellChoiceNumber:n})}},{key:"hideForChoosing",value:function(){this.setState({startScreenHide:"hidden",chooseScreenHide:""})}},{key:"updateSpellChoiceNumber",value:function(e){var t,n=parseInt(this.state.spellChoiceNumber)-1,l=[],a=this.state.choseFirst,s=this.state.choseSecond;console.log(e),console.log(this.state.firstLevelChoice),this.state.firstLevelChoice.includes(e)?(l=this.state.firstLevelChoice,a.push(e),a.sort(),t=1):this.state.secondLevelChoice.includes(e)?(l=this.state.secondLevelChoice,s.push(e),s.sort(),t=2):console.log("error: spell doesn't match"),l.splice(l.indexOf(e),1),1===t?this.setState({spellChoiceNumber:n,firstLevelChoice:l,choseFirst:a}):this.setState({spellChoiceNumber:n,secondLevelChoice:l,choseSecond:s})}},{key:"convertToBaseName",value:function(e){var t=e.slice(0,-1),n=e.slice(0,-2),l=this.state.firstLevel.concat(this.state.secondLevel).concat(this.state.domainSpellsFirst).concat(this.state.domainSpellsSecond);return l.includes(t)?e=t:l.includes(n)&&(e=n),e}},{key:"removeChosen",value:function(e){var t=this.state.choseFirst.indexOf(e),n=this.state.choseFirst,l=this.state.choseSecond.indexOf(e),a=this.state.choseSecond,s=[],i=this.state.spellChoiceNumber;if(console.log(t),console.log(l),-1!==t){s=n.splice(t,1);var o=this.state.firstLevelChoice;o.push(s[0]),o.sort(),i++,this.setState({choseFirst:n,firstLevelChoice:o,spellChoiceNumber:i})}if(-1!==l){s=a.splice(l,1);var c=this.state.secondLevelChoice;c.push(s[0]),c.sort(),i++,this.setState({choseSecond:a,secondLevelChoice:c,spellChoiceNumber:i})}}},{key:"startCasting",value:function(){console.log("start casting"),this.setState({chooseScreenHide:"hidden",castingScreenHide:""})}},{key:"spellWasCast",value:function(e){if(1==e&&this.state.levelOneSlots>0){var t=this.state.levelOneSlots-1;this.setState({levelOneSlots:t})}else if(2==e&&this.state.levelTwoSlots>0){var n=this.state.levelTwoSlots-1;this.setState({levelTwoSlots:n})}}},{key:"selectMaker",value:function(e,t,n){var l=this.state.bonus.includes(e),s=this.state.domain.includes(e),i=this.state.conc.includes(e);return a.a.createElement("div",{key:e,className:"selectable",onClick:this.handleClick,val:e,data:n,style:{paddingLeft:18,width:"100%"}},e,l||i||s?" (":null,s?"D":null,l?"B":null,i?"C":null,l||i||s?")":null)}},{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("val"),n=e.currentTarget.getAttribute("data");console.log(t),console.log("called from a "+e.currentTarget.getAttribute("data")),this.state.domain.includes(t)||"chosen"!=n||(console.log("this is not a domain spell"),this.removeChosen(t)),0==!this.state.spellChoiceNumber&&"choice"==n&&(console.log("choice"),this.updateSpellChoiceNumber(t)),"prep"==n&&this.getSpellUrl(t)}},{key:"getSpellUrl",value:function(e){var t=this,n=new XMLHttpRequest,l="https://www.dnd5eapi.co/api/spells/?name="+e;n.open("GET",l),n.send(),n.onreadystatechange=function(e){t.getSpellData(JSON.parse(n.responseText).results[0].url)}}},{key:"getSpellData",value:function(e){var t=this,n=new XMLHttpRequest,l={};n.open("GET",e),n.send(),n.onreadystatechange=function(e){console.log(JSON.parse(n.responseText)),l={name:JSON.parse(n.responseText).name,level:JSON.parse(n.responseText).level,school:JSON.parse(n.responseText).school.name,casting_time:JSON.parse(n.responseText).casting_time,range:JSON.parse(n.responseText).range,components:JSON.parse(n.responseText).components,concentration:JSON.parse(n.responseText).concentration,duration:JSON.parse(n.responseText).duration,desc:JSON.parse(n.responseText).desc[0].replace(/\xe2\u20ac\u2122/g,"'"),high_level:JSON.parse(n.responseText).higher_level},t.setActiveSpell(l)}}},{key:"setActiveSpell",value:function(e){this.setState({activeSpell:e})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h2",{className:"my-title"},"Spell Selector"),a.a.createElement(S,{hide:this.state.chooseScreenHide,handleClick:this.startCasting}),a.a.createElement(f,{hide:this.state.castingScreenHide,levelOne:this.state.levelOneSlots,levelTwo:this.state.levelTwoSlots,reduceNumber:this.spellWasCast}),a.a.createElement(O,{hide:this.state.castingScreenHide,levelOneSpells:this.state.choseFirst,levelTwoSpells:this.state.choseSecond,selectMaker:this.selectMaker,level:this.state.clericLevel}),""===this.state.castingScreenHide&&a.a.createElement(j,{hide:this.state.castingScreenHide,spell:this.state.activeSpell,levelOneSpells:this.state.choseFirst,getDesc:this.getSpellUrl}),a.a.createElement("div",{className:this.state.startScreenHide},a.a.createElement("div",{style:{marginBottom:25}},a.a.createElement(d,{onChange:this.changeClericLevel,level:this.state.clericLevel,hide:this.state.startScreenHide}),a.a.createElement(m,{onChange:this.changeWisMod,wisMod:this.state.wisdomMod,hide:this.state.startScreenHide}))),a.a.createElement(v,{handleClick:this.hideForChoosing,hide:this.state.startScreenHide}),a.a.createElement(g,{hide:this.state.chooseScreenHide,chosenOne:this.state.choseFirst,chosenTwo:this.state.choseSecond,level:this.state.clericLevel,selectMaker:this.selectMaker}),a.a.createElement(C,{hide:this.state.chooseScreenHide,spellNumber:this.state.spellChoiceNumber}),a.a.createElement(b,{hide:this.state.chooseScreenHide,levelOne:this.state.firstLevelChoice,levelTwo:this.state.secondLevelChoice,level:this.state.clericLevel,selectMaker:this.selectMaker}))}}]),t}(l.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E,null))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){},9:function(e,t,n){}},[[11,2,1]]]);
//# sourceMappingURL=main.aa50994e.chunk.js.map